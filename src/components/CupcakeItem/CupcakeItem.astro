---
import "./CupcakeItem.less";
const { name, price, description, additionalDesc, imgUrl } = Astro.props;


const images = await Astro.glob("../../assets/images/cupcakes/*").then(
	(files) => {
		return files.map((file) => file.default);
	}
);

/*const getFileFromArr = (arr, key) => {
	let res = "";
	arr.map((item) => {
		if (item.includes(key)) {
			res = item;
		}
	});
	console.log("res:", res);
	return res;
};*/
---

{
	images.map((image) => (
		<article class="cupcake-item">
			<picture class="cs-image">
				<source
					media="(max-width: 600px)"
					srcset={image}
				/>
				<source
					media="(min-width: 601px)"
					srcset={image}
				/>
				<img
					loading="lazy"
					decoding="async"
					src={image}
					alt="logo"
					width="600"
					height="600"
				/>
			</picture>
			<!--
                <p class="cupcake-item-title">{getInfoFromImg(images, image)}</p>
			<p class="cupcake-item-price">{price}</p>
			<p class="cupcake-item-description">{description}</p>
			<p class="cupcake-item-additionalDesc">{additionalDesc}</p>-->
		</article>
	))
}
